---
import BaseLayout from "../../layouts/BaseLayout.astro";

const title = 'All';

const allPosts = await Astro.glob('./**/*.md');

// sort by most recently published
allPosts.sort((a, b) => {
  const aDate = new Date(a.frontmatter.publishedAt)
  const bDate = new Date(b.frontmatter.publishedAt)
  return aDate.valueOf() - bDate.valueOf()
})
.reverse();

---

<BaseLayout title={title}>
  <ul>
    {allPosts.map((post) => <li><a href={post.url}>{post.frontmatter.title || post.url}</a></li>)}
  </ul>
</BaseLayout>